#!/bin/bash
echo "Enter the location of log file"
read FILE_PATH
cd $FILE_PATH
if [ -z $1 ]; then
echo "Enter the day to be monitored (00-31)"
read d; else
d=$1
fi
if [ -z $1 ]; then
echo "Enter the starting time (00-23)"
read a; else
a=$1
fi
if [ -z $2 ]; then
echo "Echo the end time (00-23)"
read b; else
b=$2
fi
echo "###########################################################################################################################################################"
echo MYSQL-Time 2018-Jan-"$d" from "$a":00 to "$b":00
echo "###########################################################################################################################################################"
for i in $(seq -w $a $b); do
sed -n "/netstat/,/vmstat/p" 2018-Jan-"$d"-"$i"-00_monitoring_log | grep mysql| wc -l; done
echo "############################################################################################################################################################"
echo HTTPS-Time 2018-Jan-"$d" from "$a":00 to "$b":00 
echo "############################################################################################################################################################"
for i in $(seq -w $a $b); do
sed -n "/netstat/,/vmstat/p" 2018-Jan-"$d"-"$i"-00_monitoring_log | grep https| wc -l; done
echo "############################################################################################################################################################"
echo Free cache memory from Jan"$d" from "$a":00 to "$b":00
echo "############################################################################################################################################################"
for i in $(seq -w $a $b); do
grep -A 4 "free -m" 2018-Jan-"$d"-"$i"-00_monitoring_log|grep "buffers/cache:"|awk '{print $4}';
done

